<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Using Functions | fRiendly Guide to Data/Rtism/R for Artists</title>
  <meta name="description" content="This is a book on data analysis with a focus on readability for absolute beginners. This book is inspired by STAT545 by Jenny Bryan. The output format for this book is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Using Functions | fRiendly Guide to Data/Rtism/R for Artists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book on data analysis with a focus on readability for absolute beginners. This book is inspired by STAT545 by Jenny Bryan. The output format for this book is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Using Functions | fRiendly Guide to Data/Rtism/R for Artists" />
  
  <meta name="twitter:description" content="This is a book on data analysis with a focus on readability for absolute beginners. This book is inspired by STAT545 by Jenny Bryan. The output format for this book is bookdown::gitbook." />
  

<meta name="author" content="Adam Sadowski" />


<meta name="date" content="2022-03-12" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="opening-the-data.html"/>
<link rel="next" href="removing-redundancy.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="pumping.html"><a href="pumping.html"><i class="fa fa-check"></i><b>2</b> Pumping</a></li>
<li class="chapter" data-level="3" data-path="writing-reports.html"><a href="writing-reports.html"><i class="fa fa-check"></i><b>3</b> Writing Reports</a>
<ul>
<li class="chapter" data-level="3.1" data-path="writing-reports.html"><a href="writing-reports.html#lines-and-lists"><i class="fa fa-check"></i><b>3.1</b> Lines and Lists</a></li>
<li class="chapter" data-level="3.2" data-path="writing-reports.html"><a href="writing-reports.html#code"><i class="fa fa-check"></i><b>3.2</b> Code</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="writing-reports.html"><a href="writing-reports.html#declaring-with-single-back-ticks"><i class="fa fa-check"></i><b>3.2.1</b> Declaring With Single Back-Ticks</a></li>
<li class="chapter" data-level="3.2.2" data-path="writing-reports.html"><a href="writing-reports.html#declaring-with-multiple-back-ticks"><i class="fa fa-check"></i><b>3.2.2</b> Declaring With Multiple Back-Ticks</a></li>
<li class="chapter" data-level="3.2.3" data-path="writing-reports.html"><a href="writing-reports.html#summary"><i class="fa fa-check"></i><b>3.2.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="writing-reports.html"><a href="writing-reports.html#errors"><i class="fa fa-check"></i><b>3.3</b> Errors</a></li>
<li class="chapter" data-level="3.4" data-path="writing-reports.html"><a href="writing-reports.html#links"><i class="fa fa-check"></i><b>3.4</b> Links</a></li>
<li class="chapter" data-level="3.5" data-path="writing-reports.html"><a href="writing-reports.html#keyboard-shortcuts"><i class="fa fa-check"></i><b>3.5</b> Keyboard Shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="file-naming.html"><a href="file-naming.html"><i class="fa fa-check"></i><b>4</b> File Naming</a>
<ul>
<li class="chapter" data-level="4.1" data-path="file-naming.html"><a href="file-naming.html#consistency"><i class="fa fa-check"></i><b>4.1</b> Consistency</a></li>
<li class="chapter" data-level="4.2" data-path="file-naming.html"><a href="file-naming.html#why-consistency-matters"><i class="fa fa-check"></i><b>4.2</b> Why Consistency Matters</a></li>
<li class="chapter" data-level="4.3" data-path="file-naming.html"><a href="file-naming.html#finding-and-organizing-our-files"><i class="fa fa-check"></i><b>4.3</b> Finding and Organizing Our Files</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="file-naming.html"><a href="file-naming.html#reading-in-data"><i class="fa fa-check"></i><b>4.3.1</b> Reading in Data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="opening-the-data.html"><a href="opening-the-data.html"><i class="fa fa-check"></i><b>5</b> Opening the Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="opening-the-data.html"><a href="opening-the-data.html#checking-data"><i class="fa fa-check"></i><b>5.1</b> Checking Data</a></li>
<li class="chapter" data-level="5.2" data-path="opening-the-data.html"><a href="opening-the-data.html#finding-functions"><i class="fa fa-check"></i><b>5.2</b> Finding Functions</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="opening-the-data.html"><a href="opening-the-data.html#google"><i class="fa fa-check"></i><b>5.2.1</b> Google</a></li>
<li class="chapter" data-level="5.2.2" data-path="opening-the-data.html"><a href="opening-the-data.html#stack-overflow"><i class="fa fa-check"></i><b>5.2.2</b> Stack Overflow</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="opening-the-data.html"><a href="opening-the-data.html#finding-function-documentation-for-understanding-functions"><i class="fa fa-check"></i><b>5.3</b> Finding Function Documentation for Understanding Functions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="opening-the-data.html"><a href="opening-the-data.html#google-1"><i class="fa fa-check"></i><b>5.3.1</b> Google</a></li>
<li class="chapter" data-level="5.3.2" data-path="opening-the-data.html"><a href="opening-the-data.html#stack-overflow-1"><i class="fa fa-check"></i><b>5.3.2</b> Stack Overflow</a></li>
<li class="chapter" data-level="5.3.3" data-path="opening-the-data.html"><a href="opening-the-data.html#the-next-chapter-of-this-book-using-functions"><i class="fa fa-check"></i><b>5.3.3</b> The Next Chapter of This Book: Using Functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="using-functions.html"><a href="using-functions.html"><i class="fa fa-check"></i><b>6</b> Using Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="using-functions.html"><a href="using-functions.html#mutate"><i class="fa fa-check"></i><b>6.1</b> <code>mutate</code></a></li>
<li class="chapter" data-level="6.2" data-path="using-functions.html"><a href="using-functions.html#pumping-with"><i class="fa fa-check"></i><b>6.2</b> Pumping with <code>%&gt;%</code></a></li>
<li class="chapter" data-level="6.3" data-path="using-functions.html"><a href="using-functions.html#grouping-with-group"><i class="fa fa-check"></i><b>6.3</b> Grouping with <code>group</code></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="removing-redundancy.html"><a href="removing-redundancy.html"><i class="fa fa-check"></i><b>7</b> Removing Redundancy</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">fRiendly Guide to Data/Rtism/R for Artists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="using-functions" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Using Functions</h1>
<p>So far we used <code>mutate</code> from <code>dplyr</code>, <code>unnest</code> from <code>tidyr</code>, <code>read_csv</code> from <code>readr</code>, <code>map</code> from <code>purrr</code>, <code>as_tibble</code> from <code>tibble</code>, and <code>str_to_title</code> from <code>stringr</code>. Since we are using so many tidyverse packages, we may as well load the tidyverse if possible. Fortunately it is possible by running <code>library(tidyverse)</code>. After doing so, all tidyverse functions are now available to us.</p>
<!-- Even by looking around the tidyverse.org website, we can easily find more  functions. [https://www.tidyverse.org/packages/](https://www.tidyverse.org/packages/) describes the most useful packages. Reading the descriptions tell us the purpose of the packages. It is not important to know the names of these packages, but it is useful to understand what they each provide.  -->
<div id="mutate" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> <code>mutate</code></h2>
<p>We already went over <code>mutate</code>. This function is used to both create new columns and overwrite existing columns.</p>
<p>We can overwrite an existing column like so:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="using-functions.html#cb66-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">mutate</span>(df, <span class="at">year =</span> <span class="fu">as.numeric</span>(year))</span></code></pre></div>
<p>Having a numeric year is useful if, for example, we want to filter the data by years between 1960 and 1980. This is done with <code>filter</code>.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="using-functions.html#cb67-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">filter</span>(df, <span class="dv">1960</span> <span class="sc">&lt;</span> year <span class="sc">&amp;</span> year <span class="sc">&lt;</span> <span class="dv">1980</span>)</span></code></pre></div>
</div>
<div id="pumping-with" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Pumping with <code>%&gt;%</code></h2>
<p>Notice that the examples in the function documentation for <code>mutate</code> (<a href="https://dplyr.tidyverse.org/reference/mutate.html">https://dplyr.tidyverse.org/reference/mutate.html</a>) and <code>filter</code> use the symbol <code>%&gt;%</code>.</p>
<p>The <code>%&gt;%</code> is very simple. It simply sends the left side to the right side. The other property to remember is that <code>%&gt;%</code> holds mathematical priority before brackets and exponents. So if you know BEDMASS, then you also know BE<code>%&gt;%</code>DMASS.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="using-functions.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">5</span>) </span></code></pre></div>
<pre><code>&gt;&gt; [1] 2.236068</code></pre>
<p>is the same as</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="using-functions.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">%&gt;%</span> sqrt</span></code></pre></div>
<pre><code>&gt;&gt; [1] 2.236068</code></pre>
<p>But</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="using-functions.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span> <span class="sc">%&gt;%</span> sqrt</span></code></pre></div>
<pre><code>&gt;&gt; [1] 11.18034</code></pre>
<p>is not the same as</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="using-functions.html#cb74-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">5</span> <span class="sc">*</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> sqrt</span></code></pre></div>
<pre><code>&gt;&gt; [1] 5</code></pre>
<p>For a more relevant example,</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="using-functions.html#cb76-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">mutate</span>(df, <span class="at">year =</span> <span class="fu">as.numeric</span>(year))</span></code></pre></div>
<p>is the same as</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="using-functions.html#cb77-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.numeric</span>(year))</span></code></pre></div>
<p>which is the same as</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="using-functions.html#cb78-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">year =</span> year <span class="sc">%&gt;%</span> as.numeric)</span></code></pre></div>
</div>
<div id="grouping-with-group" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Grouping with <code>group</code></h2>
<p>Notice that the examples in the function documentation for <code>filter</code> (<a href="https://dplyr.tidyverse.org/reference/filter.html">https://dplyr.tidyverse.org/reference/filter.html</a>) use the function <code>group_by</code>.</p>
<p><code>group_by</code> groups the data for the next function.</p>
<p>Let us create a simple example to demonstrate.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="using-functions.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="do">## USE A VERY SIMPLE EXAMPLE</span></span>
<span id="cb79-2"><a href="using-functions.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="co"># df %&gt;% filter(lifeExp &gt; mean(lifeExp))</span></span>
<span id="cb79-3"><a href="using-functions.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb79-4"><a href="using-functions.html#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># df %&gt;% group_by(country) %&gt;% filter(year &gt; mean(year))</span></span></code></pre></div>
<p>NEXT STEPS FOR GUIDE:</p>
<p>STRINGR, then REGEX
WORKFLOW FOR A (VOLUNTEER) PROJECT: REPRODUCIBILITY
HOW TO MASK/RANDOMIZE WORK YOU’VE DONE IN ORDER TO MAKE IT PUBLIC
HOW TO BUILD REPORT
HOW TO BUILD WEBSITE TO HOST REPORT
HOW TO BUILD TABLES (gt) and PLOTS (ggplot)</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="opening-the-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="removing-redundancy.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
